---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
install.packages("janitor")
library(janitor)
library(tidyverse)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.
```{r}
data <- read_csv("Data/FundFlowFinal.csv")


```

```{r}
flowSum <- data %>%
  mutate(total_flow = rowSums(across(c(Flow43, Flow44, Flow47, Flow48, Flow49, Flow410, Flow411, Flow414, Flow415, Flow416), as.numeric), na.rm = TRUE))

flowSum <- flowSum %>% select('Morningstar Category', 'US Category Group', total_flow, everything())

flowSum <- flowSum %>% clean_names()

unique_values <- flowSum %>%
  distinct(sub_theme_3) %>%  # Select distinct rows based on col
  pull(sub_theme_3)

broadthemeSum <- flowSum %>%
  group_by(broad_theme_2) %>% 
  summarise(total_flow_sum = sum(total_flow, na.rm = TRUE))

subthemeSum <- flowSum %>%
  group_by(sub_theme_3) %>% 
  summarise(total_flow_sum = sum(total_flow, na.rm = TRUE))
```

